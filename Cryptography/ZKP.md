# ZKP(Zero-Knowledge Proof)
> 영지식 증명 관련된 개념 기록✏

## 개념
- 암호학에서 누군가가 상대방에게 **"어떤 상태가 참이다"라는 것을 증명할 때**, 그 문장의 **참 거짓 여부를 제외한 어떤 것도 노출되지 않도록 하는 것**을 뜻함.
> 예) 편의점에서 술을 사기 위해, 민증(주소, 생년월일, 이름 등의 개인정보)을 넘기게 되는데...   
  사실 "19세 이상이라는 것이 참이다"만 밝혀내면 될 뿐, 민증 제출 시 불필요한 개인정보도 넘기게 됨.   
  이처럼 모든 개인 정보를 보여줌(제출함)으로써 증명하는 것이 아니라, "19세 이상이라는 것이 참이다"라는 명제가 맞다는 것을 증명할 수 있도록 하는 기술임.

## 특징
- 영지식 증명을 활용한 프로토콜은 **정보를 공개 하지 않고**,**정보의 '유효성'을 증명**할 수 있음
- 참여자는 Prover(증명자), Verifier(검증자)로, 관련 용어는 다음과 같음
  + prover : 자신의 정보가 무엇인지 공개하는 것 없이, 검증자에게 정보를 알고있다는 것을 증명하고 싶은 참여자
  + verifier : prover가 해당 정보를 가지고 있음을 검증하고 싶은 참여자
  + secret : prover가 가지고 있음을 증명하고 싶은 정보이면서, 모두에게 숨기고자 하는 정보
  + challenge : verifier가 prover에게 secret을 가지고 있는 지 확인하기 위해, 문제를 내는 과정

## 수학적 정의

$$\forall x \in L, z \in \set{0,1}^*, View_v [P(x) \leftrightarrow V(x,z)] = S(x,z)$$

+ Notation
  + P(x) : prover (x : prover's secret)
  + V(x,z) : Verifier (z : verifier's challenge value)
  + ↔ : 대화형 증명 시스템(interactive proof system)
     + prover와 verifier간의 challenge 과정 - (즉, 서로 간의 통신을 통해 증명하는 시스템)
  + View : interactive proof 과정을 관찰하여 기록한 것을 나타냄
  + S : 시뮬레이션의 결과를 나타냄
 
+ 의미
  + verifier의 challenge value인 0, 1에 대한 prover와 verifier의 증명 과정을 다른 곳에서도 똑같이 시뮬리케이션 할 수 있어야 함
  + verifier는 z 값을 통해, prover가 secret을 알고 있는지 확률적으로 확신할 수 있으나, 그 값이 무엇인지는 알아내는 건 불가능해야 함
  + verifier를 제외한 제 3자도 prover가 secret을 알고 있는지에 대해 확신하는 것도 불가능해야 함

## 그외
### 비교표
> 대화형 증명 시스템 VS 대화형 영지식 증명 시스템 VS 비대화형 영지식 증명 시스템

| 대화형 증명 시스템 | 대화형 영지식 증명 시스템 | 비대화형 영지식 증명 시스템 |
|------------------|-------------------------|--------------------------------|
|증명자와 검증자 간 **메시지교환**을 통해 증명자가 실제 정보가 맞는지 아닌지 제출하여, 검증자가 판단하는 시스템 | 증명자와 검증자 간 **메시지교환**을 통해 증명자는 실제 정보 공개 없이 정보의 옳고 그름을 **증빙하는 증거만 제출**하여, 검증자가 정보의 유효성을 검증하는 시스템 | 증명자와 검증자 간 **메시지교환 없이** 증명자는 실제 정보 공개 없이 정보의 옳고 그름을 **증빙하는 증거만 제출**하여, 검증자가 정보의 유효성을 검증하는 시스템|
|완전성, 건전성|완전성, 건전성, 영지식성|완전성, 건전성, 영지식성|
|대화형 프로토콜|대화형 프로토콜|비 대화형 프로토콜|
|결과의 정확도(안전성)가 확률에 의존함(메시지 교환을 많이 반복할수록 결과의 정확도가 높아짐) | 대화형 증명시스템과 동일하게 결과의 확률을 높이기 위해 메시지교환 多, 효율성 떨어짐|**메시지교환 필요 없음, 결과의 안전성이 확률에 의존하지 않음**|

## 참고
- [zk-SNARKs의 수학 이야기](https://hyun-jeong.medium.com/zk-snarks%EC%9D%98-%EC%88%98%ED%95%99-%EC%9D%B4%EC%95%BC%EA%B8%B0-1-e960e76f705a)
